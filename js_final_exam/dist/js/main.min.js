$(function(){"use strict";function e(){new Masonry(n,{columnWidth:".grid__sizer",gutter:".grid__gutter",itemSelector:".grid__item",transitionDuration:"0.5s"})}var t={navigation:!0,navigationText:["&lang;","&rang;"],slideSpeed:300,paginationSpeed:400,singleItem:!0,pagination:!1};$("#carousel1").owlCarousel(t),$("#carousel2").owlCarousel(t),$("#carousel3").owlCarousel(t);var n=document.getElementById("grid"),i=document.getElementById("pixplorer"),r=i.querySelector("input"),a="http://api.pixplorer.co.uk/image?amount=12&size=tb";i.addEventListener("submit",function(e){var t=r.value,n=a+(t?"&word="+t:"");o.start(n),e.preventDefault()});var o=new Pixplorer({target:n,onLoad:e});i.dispatchEvent(new Event("submit"))});
function Pixplorer(e){function i(i){e.target.innerHTML=a({images:i.images}),imagesLoaded(e.target).on("always",e.onLoad)}var a=tmpl('    <div class="grid__sizer"></div>    <div class="grid__gutter"></div>    <% var word = images[0].word, image;    for (var i = 0, l = images.length; i < l; i++) {      image = images[i]; %>      <div class="grid__item">        <img src="<%= image.imageurl %>">        <div class="grid__word"><%= word %></div>      </div>    <% } %>  ');this.start=function(e){var a=new XMLHttpRequest;return a.open("GET",e,!0),a.send(),a.onreadystatechange=function(){4==a.readyState&&(200==a.status?i(JSON.parse(a.responseText)):console.log(a.status+": "+a.statusText))},!1}}